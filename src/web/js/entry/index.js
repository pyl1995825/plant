require('../../UI/css/index.css');
require('../../UI/css/common/slider.css');

var $ = require('jquery');

require('../libs/slider.js');
var Util = require('../libs/util');
var QuickTypeModal = require('../modals/map');
var EntityModal = require('../modals/map');
// var listContainer = $('.jlistcontainer');
// var editContainer = $('.jeditcontainer');
// var emptyContainer = $('.jemptyquick');
var Common = require('../common/common');

var XTemplate = require('xtemplate/lib/runtime');
var xTemplate = require('xtemplate');
// var qtListTpl = require('../../tpl/main/map.xtpl');

function init() {

	// 初始化导航
	Common.initSideBar();

	$('.hiSlider').hiSlider();

    BaiduMap(); // baidu map api
}

// baidu Map
function BaiduMap() {
    var map = new BMap.Map("map-wrap"); // 创建地图实例 
    var point = new BMap.Point(126.646749,45.729233); // 创建点坐标 
    map.centerAndZoom(point, 18); // 初始化地图，设置中心点坐标和地图级别 

    map.addControl(new BMap.MapTypeControl());//添加地形控制器
    map.enableScrollWheelZoom();//设置鼠标滚轮缩放为启用

   	var markerData = [
	   	[126.643963,45.730835,28,'蒙古栎'],
		[126.644951,45.730313,1,'樟子松'],
		[126.644089,45.730684,19,'紫丁香'],
		[126.645167,45.730345,2,'红皮云杉'],
		[126.644556,45.730546,18,'榆叶梅'],
		[126.646141,45.729873,,'黑皮油松'],
		[126.648189,45.729187,,'黑皮油松'],
		[126.64633,45.729885,3,'白桦'],
		[126.645526,45.730168,13,'暴马丁香'],
		[126.646559,45.729898,,'复叶槭'],
		[126.646105,45.729929,18,'榆叶梅'],
		[126.647044,45.729649,13,'暴马丁香'],
		[126.647561,45.729369,,'黑皮油松'],
		[126.647808,45.729344,1,'樟子松'],
		[126.647435,45.729536,18,'榆叶梅'],
		[126.648113,45.729313,19,'紫丁香'],
		[126.643828,45.730448,4,'家榆'],
		[126.643913,45.730527,19,'紫丁香'],
		[126.64518,45.730043,2,'红皮云杉'],
		[126.644547,45.730285,2,'红皮云杉'],
		[126.644039,45.730492,2,'红皮云杉'],
		[126.645095,45.729999,19,'紫丁香'],
		[126.644924,45.72969,19,'紫丁香'],
		[126.644924,45.72969,19,'紫丁香'],
		[126.645158,45.730055,24,'红松'],
		[126.645077,45.729813,5,'旱柳'],
		[126.644744,45.729357,5,'旱柳'],
		[126.645436,45.72981,7,'水曲柳'],
		[126.645068,45.729627,5,'旱柳'],
		[126.64562,45.729753,,'黑皮油松'],
		[126.645616,45.729675,18,'榆叶梅']
		[126.645993,45.729775,13,'暴马丁香'],
		[126.64589,45.729851,,'黑皮油松'],
		[126.646554,45.729599,19,'紫丁香'],
		[126.646559,45.729568,1,'樟子松'],
		[126.64699,45.729385,41,'山梅花'],
		[126.647062,45.729404,18,'榆叶梅'],
		[126.648203,45.728982,5,'旱柳'],
		[126.648203,45.728982,1,'樟子松'],
		[126.647736,45.728964,3,'白桦'],
		[126.647511,45.729052,17,'珍珠梅'],
		[126.647754,45.728976,28,'蒙古栎'],
		[126.647718,45.729014,19,'紫丁香'],
		[126.646739,45.72846,34,'山楂'],
		[126.646667,45.728366,2,'红皮云杉'],
		[126.647188,45.728599,25,'兴安落叶松'],
		[126.647322,45.728435,,'色木槭'],
		[126.647206,45.728467,19,'紫丁香'],
		[126.647152,45.72819,1,'樟子松'],
		[126.64787,45.72836,13,'暴马丁香'],
		[126.648086,45.728725,19,'紫丁香'],
		[126.648409,45.728542,,'小叶杨'],
		[126.648409,45.728542,5,'旱柳'],
		[126.649955,45.728278,5,'旱柳'],
		[126.64982,45.727982,19,'紫丁香'],
		[126.648508,45.727831,26,'银中杨'],
		[126.64858,45.728479,10,'稠李'],
		[126.648499,45.728253,35,'山丁子'],
		[126.648769,45.728158,38,'连翘'],
		[126.649487,45.728171,18,'榆叶梅'],
		[126.64602,45.72936,3,'白桦'],
		[126.646155,45.729366,13,'暴马丁香'],
		[126.646658,45.729178,4,'榆树'],
		[126.646833,45.729124,13,'暴马丁香'],
		[126.646923,45.728753,4,'家榆'],
		[126.646689,45.728765,3,'白桦'],
		[126.64642,45.728822,18,'榆叶梅'],
		[126.645746,45.729222,4,'榆树球'],
		[126.646038,45.728942,25,'落叶松'],
		[45.728942,45.728728,3,'白桦'],
		[126.646501,45.728558,3,'白桦'],
		[126.646249,45.728665,2,'红皮云杉'],
		[126.64571,45.728533,29,'紫椴'],
		[126.646015,45.728287,29,'紫椴'],
		[126.646105,45.728268,24,'红松'],
		[126.646536,45.728086,2,'红皮云杉'],
		[126.646572,45.727973,25,'兴安落叶松'],
		[126.645072,45.728627,7,'水曲柳'],
		[126.644911,45.728658,25,'兴安落叶松'],
		[126.644551,45.72891,41,'山梅花'],
		[126.644479,45.728413,5,'旱柳'],
		[126.646608,45.727652,5,'旱柳'],
		[126.646474,45.727545,1,'樟子松'],
		[126.648288,45.727696,4,'家榆'],
		[126.648082,45.727457,26,'银中杨'],
		[126.647749,45.727029,2,'红皮云杉'],
		[126.643922,45.728281,5,'旱柳'],
		[126.64399,45.72813,19,'紫丁香'],
		[126.643886,45.727774,26,'银中杨'],
		[126.64633,45.726749,46,'毛樱桃'],
   	];
   	for (var i = 0, l = markerData.length; i < l; i++) {
        setTimeout((function (index) {
            return function () {
                var data = markerData[index]
                var marker = new BMap.Marker(new BMap.Point(data[0], data[1]))
                map.addOverlay(marker);
                marker.addEventListener('click', function () {
                    this.openInfoWindow(new BMap.InfoWindow('<a style="text-decoration: underline;" target="_blank" href="#">' + markerData[index][3] + '</a>'))
                })
            }
        })(i), i % l * 25)
    }
}

init();
